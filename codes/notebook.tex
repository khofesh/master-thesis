
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{tseriesVAR-perbandingan}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{tseriesRoutines} \PY{k}{as} \PY{n+nn}{routines}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{StandardScaler}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{mean\PYZus{}absolute\PYZus{}error}
        \PY{k+kn}{from} \PY{n+nn}{math} \PY{k}{import} \PY{n}{ceil}
        \PY{k+kn}{from} \PY{n+nn}{math} \PY{k}{import} \PY{n}{sqrt}
        \PY{k+kn}{import} \PY{n+nn}{sqlite3}
        \PY{k+kn}{from} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{tsa}\PY{n+nn}{.}\PY{n+nn}{stattools} \PY{k}{import} \PY{n}{acf}\PY{p}{,} \PY{n}{pacf}
        \PY{k+kn}{import} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{tsa}\PY{n+nn}{.}\PY{n+nn}{api} \PY{k}{as} \PY{n+nn}{smt}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        \PY{k+kn}{import} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{api} \PY{k}{as} \PY{n+nn}{sm}
        \PY{k+kn}{import} \PY{n+nn}{warnings}
        \PY{k+kn}{import} \PY{n+nn}{itertools}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k}{def} \PY{n+nf}{genData}\PY{p}{(}\PY{n}{mongoid}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{cursor}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{p}{:}
            \PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
        \PY{l+s+sd}{    Generate a timeseries dataframe for ARIMA modelling.}
        \PY{l+s+sd}{    mongoid: str. string of mongodb id.}
        \PY{l+s+sd}{    conn: sqlite3 connection.}
        \PY{l+s+sd}{    cursor: sqlite3 cursor.}
        \PY{l+s+sd}{    impute:}
        \PY{l+s+sd}{    freq:}
        \PY{l+s+sd}{    actualrevcount:}
        \PY{l+s+sd}{    standardize}
        \PY{l+s+sd}{    Example:}
        \PY{l+s+sd}{    product = genData(\PYZsq{}5aa2ad7735d6d34b0032a795\PYZsq{}, conn, c, impute=True, }
        \PY{l+s+sd}{       freq=\PYZsq{}daily\PYZsq{}, actualrevcount=20, standardize=True)}
        \PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
            \PY{n}{initial} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{sqlToDf}\PY{p}{(}\PY{n}{conn}\PY{p}{,} \PY{n}{cursor}\PY{p}{)}
            \PY{n}{allproduct} \PY{o}{=} \PY{n}{initial}\PY{o}{.}\PY{n}{selectReview3}\PY{p}{(}\PY{n}{mongoid}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{n}{impute}\PY{p}{)}
            \PY{n}{product} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsSalesRateSentiment}\PY{p}{(}\PY{n}{allproduct}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{n}{freq}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{n}{standardize}\PY{p}{)}
            \PY{k}{return} \PY{n}{product}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{} Jeffrey Yau}
        \PY{k}{def} \PY{n+nf}{tsplot}\PY{p}{(}\PY{n}{y}\PY{p}{,} \PY{n}{title}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{k+kc}{None}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
        \PY{l+s+sd}{    Examine the patterns of ACF and PACF, along with the time series}
        \PY{l+s+sd}{    plot and histogram.}
        \PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
            \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{n}{figsize}\PY{p}{)}
            \PY{n}{layout} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
            \PY{n}{ts\PYZus{}ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot2grid}\PY{p}{(}\PY{n}{layout}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{)}
            \PY{n}{hist\PYZus{}ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot2grid}\PY{p}{(}\PY{n}{layout}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
            \PY{n}{acf\PYZus{}ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot2grid}\PY{p}{(}\PY{n}{layout}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{)}
            \PY{n}{pacf\PYZus{}ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot2grid}\PY{p}{(}\PY{n}{layout}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
            
            \PY{n}{y}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{ax}\PY{o}{=}\PY{n}{ts\PYZus{}ax}\PY{p}{)}
            \PY{n}{ts\PYZus{}ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{n}{title}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{14}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bold}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{y}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{ax}\PY{o}{=}\PY{n}{hist\PYZus{}ax}\PY{p}{,} \PY{n}{kind}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{bins}\PY{o}{=}\PY{l+m+mi}{25}\PY{p}{)}
            \PY{n}{hist\PYZus{}ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Histogram}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{smt}\PY{o}{.}\PY{n}{graphics}\PY{o}{.}\PY{n}{plot\PYZus{}acf}\PY{p}{(}\PY{n}{y}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{n}{lags}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{acf\PYZus{}ax}\PY{p}{)}
            \PY{n}{smt}\PY{o}{.}\PY{n}{graphics}\PY{o}{.}\PY{n}{plot\PYZus{}pacf}\PY{p}{(}\PY{n}{y}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{n}{lags}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{pacf\PYZus{}ax}\PY{p}{)}
            \PY{p}{[}\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)} \PY{k}{for} \PY{n}{ax} \PY{o+ow}{in} \PY{p}{[}\PY{n}{acf\PYZus{}ax}\PY{p}{,} \PY{n}{pacf\PYZus{}ax}\PY{p}{]}\PY{p}{]}
            \PY{n}{sns}\PY{o}{.}\PY{n}{despine}\PY{p}{(}\PY{p}{)}
            \PY{n}{plt}\PY{o}{.}\PY{n}{tight\PYZus{}layout}\PY{p}{(}\PY{p}{)}
            \PY{k}{return} \PY{n}{ts\PYZus{}ax}\PY{p}{,} \PY{n}{acf\PYZus{}ax}\PY{p}{,} \PY{n}{pacf\PYZus{}ax}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{c+c1}{\PYZsh{}https://www.digitalocean.com/community/tutorials/a\PYZhy{}guide\PYZhy{}to\PYZhy{}time\PYZhy{}series\PYZhy{}forecasting\PYZhy{}with\PYZhy{}arima\PYZhy{}in\PYZhy{}python\PYZhy{}3}
        \PY{k}{def} \PY{n+nf}{detpq}\PY{p}{(}\PY{n}{data}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
        \PY{l+s+sd}{    Determine values of p \PYZam{} q that minimize AICc}
        
        \PY{l+s+sd}{    par: python range. parameter}
        \PY{l+s+sd}{    data: numpy ndarray or pandas series.}
        \PY{l+s+sd}{        y\PYZus{}train[\PYZsq{}Sales\PYZsq{}].values}
        \PY{l+s+sd}{    sdfa}
        \PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
            \PY{c+c1}{\PYZsh{} Define the p and q parameters to take any value between 0 and 2}
            \PY{n}{p} \PY{o}{=} \PY{n}{q} \PY{o}{=} \PY{n}{par}
            
            \PY{c+c1}{\PYZsh{} Generate all different combinations of p and q triplets}
            \PY{n}{pq} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{itertools}\PY{o}{.}\PY{n}{product}\PY{p}{(}\PY{n}{p}\PY{p}{,} \PY{n}{q}\PY{p}{)}\PY{p}{)}
        
            \PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ignore}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{c+c1}{\PYZsh{} specify to ignore warning messages}
            \PY{n}{AIC\PYZus{}list} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{param}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AIC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
            \PY{k}{for} \PY{n}{param} \PY{o+ow}{in} \PY{n}{pq}\PY{p}{:}
                \PY{k}{try}\PY{p}{:}
                    \PY{n}{mod} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{data}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{n}{param}\PY{p}{)}
                    \PY{n}{results} \PY{o}{=} \PY{n}{mod}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
                    \PY{c+c1}{\PYZsh{}print(\PYZsq{}ARIMA\PYZob{}\PYZcb{} \PYZhy{} AIC:\PYZob{}\PYZcb{}\PYZsq{}.format(param, }
                    \PY{c+c1}{\PYZsh{}    sm.tools.eval\PYZus{}measures.aicc(results.llf, }
                    \PY{c+c1}{\PYZsh{}        results.nobs, results.df\PYZus{}model)))}
                    \PY{n}{temp} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{[}\PY{p}{[} \PY{n}{param} \PY{p}{,}  \PY{n}{results}\PY{o}{.}\PY{n}{bic} \PY{p}{]}\PY{p}{]}\PY{p}{,} 
                        \PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{param}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AIC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
                    \PY{n}{AIC\PYZus{}list} \PY{o}{=} \PY{n}{AIC\PYZus{}list}\PY{o}{.}\PY{n}{append}\PY{p}{(} \PY{n}{temp}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
                    \PY{k}{del} \PY{n}{temp}
                \PY{k}{except}\PY{p}{:}
                    \PY{k}{continue}
        
            \PY{n}{AIC\PYZus{}list} \PY{o}{=} \PY{n}{AIC\PYZus{}list}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AIC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
            \PY{n}{AIC\PYZus{}list}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{param}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BIC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{k}{return} \PY{n}{AIC\PYZus{}list}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{} make connection to sqlite db}
        \PY{n}{conn} \PY{o}{=} \PY{n}{sqlite3}\PY{o}{.}\PY{n}{connect}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{product.db}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{c} \PY{o}{=} \PY{n}{conn}\PY{o}{.}\PY{n}{cursor}\PY{p}{(}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} enable foreign keys}
        \PY{n}{c}\PY{o}{.}\PY{n}{execute}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{PRAGMA foreign\PYZus{}keys = ON}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{conn}\PY{o}{.}\PY{n}{commit}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{c+c1}{\PYZsh{} result reproducibility}
        \PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{seed}\PY{p}{(}\PY{l+m+mi}{42}\PY{p}{)}
\end{Verbatim}


    pilihan: \textgreater{} 2 data di database product.db dgn review
\textgreater{} 900: \textgreater{} 5aa2ad7735d6d34b0032a795
\textgreater{} 5aa39533ae1f941be7165ecd \textgreater{} cluster 3
\textgreater{} 5a93e8768cbad97881597597 \textgreater{} or \textgreater{}
5a95d7ae35d6d33d3fea56ff \textgreater{} cluster 1 \textgreater{}
5aa2c35e35d6d34b0032a796 \textgreater{} cluster 2 \textgreater{}
5a92474635d6d32207bcd343 

    \hypertarget{mongodb-id-5aa2ad7735d6d34b0032a795}{%
\subsection{ 1. Mongodb ID: 5aa2ad7735d6d34b0032a795
}\label{mongodb-id-5aa2ad7735d6d34b0032a795}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{prod1} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{prod1}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:}             Sales    rating  ovsentiment
        date                                    
        2016-11-06      2  3.500000     0.500000
        2016-11-07      1  5.000000     1.000000
        2016-11-08      0  0.000000     0.000000
        2016-11-09      0  0.000000     0.000000
        2016-11-10      3  4.666667     0.333333
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{prod1} \PY{o}{=} \PY{n}{prod1}\PY{p}{[}\PY{n}{prod1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+m+mi}{0}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{prod1}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:} (332, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod1Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod1Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:}           Value                        Label
         0 -6.673059e+00               Test Statistic
         1  7.649768e-08                      p-value
         2  3.000000e+00                   \#Lags Used
         3  3.280000e+02  Number of Observations Used
         4 -3.986639e+00        Critical value for 1\%
         5 -3.423961e+00        Critical value for 5\%
         6 -3.134970e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod1Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod1Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:}         Value                        Label
         0  -20.585629               Test Statistic
         1    0.000000                      p-value
         2    0.000000                   \#Lags Used
         3  331.000000  Number of Observations Used
         4   -3.986384        Critical value for 1\%
         5   -3.423838        Critical value for 5\%
         6   -3.134898       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod1Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod1Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}13}]:}           Value                        Label
         0 -6.967397e+00               Test Statistic
         1  1.674369e-08                      p-value
         2  3.000000e+00                   \#Lags Used
         3  3.280000e+02  Number of Observations Used
         4 -3.986639e+00        Critical value for 1\%
         5 -3.423961e+00        Critical value for 5\%
         6 -3.134970e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{num\PYZus{}var1} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod1}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var1}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod1}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod1}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_15_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_15_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_15_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{n}{prod1\PYZus{}transformed} \PY{o}{=} \PY{n}{prod1}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{prod1\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n}{num\PYZus{}var1} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod1\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var1}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod1\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod1\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_20_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_20_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_20_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod1\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod1\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}21}]:}           Value                        Label
         0 -8.651998e+00               Test Statistic
         1  2.247896e-12                      p-value
         2  9.000000e+00                   \#Lags Used
         3  3.120000e+02  Number of Observations Used
         4 -3.988083e+00        Critical value for 1\%
         5 -3.424656e+00        Critical value for 5\%
         6 -3.135378e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod1\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod1\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}22}]:}           Value                        Label
         0 -7.816325e+00               Test Statistic
         1  1.899364e-10                      p-value
         2  1.600000e+01                   \#Lags Used
         3  3.050000e+02  Number of Observations Used
         4 -3.988763e+00        Critical value for 1\%
         5 -3.424983e+00        Critical value for 5\%
         6 -3.135570e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod1\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod1\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}23}]:}           Value                        Label
         0 -9.356789e+00               Test Statistic
         1  5.758032e-14                      p-value
         2  9.000000e+00                   \#Lags Used
         3  3.120000e+02  Number of Observations Used
         4 -3.988083e+00        Critical value for 1\%
         5 -3.424656e+00        Critical value for 5\%
         6 -3.135378e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
         \PY{n}{train1} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod1\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
         \PY{n}{y\PYZus{}train1} \PY{o}{=} \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train1}\PY{p}{]}
         \PY{n}{y\PYZus{}test1} \PY{o}{=} \PY{n}{prod1\PYZus{}transformed}\PY{p}{[}\PY{n}{train1}\PY{p}{:}\PY{p}{]}
         \PY{n}{y\PYZus{}train1}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test1}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}24}]:} ((258, 3), (64, 3))
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{n}{y\PYZus{}train1}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}25}]:} (258, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{n}{BIC1} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train1}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{n}{BIC1}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}27}]:}    index   param         BIC
         0      0  (0, 1)  819.103314
         1      6  (1, 1)  855.608271
         2     12  (2, 1)  888.738958
         3      1  (0, 2)  888.893944
         4      7  (1, 2)  890.744830
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{n}{model1} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train1}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
         \PY{n}{result1} \PY{o}{=} \PY{n}{model1}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{n}{result1}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}33}]:} <class 'statsmodels.iolib.summary.Summary'>
         """
                                            Statespace Model Results                                   
         ==============================================================================================
         Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  258
         Model:                                     VARMA(1,1)   Log Likelihood                -349.637
                                                   + intercept   AIC                            753.274
         Date:                                Tue, 04 Sep 2018   BIC                            849.204
         Time:                                        19:41:52   HQIC                           791.848
         Sample:                                             0                                         
                                                         - 258                                         
         Covariance Type:                                  opg                                         
         ======================================================================================
         Ljung-Box (Q):          127.97, 32.59, 39.66   Jarque-Bera (JB):   2.29, 186.53, 25.31
         Prob(Q):                    0.00, 0.79, 0.49   Prob(JB):              0.32, 0.00, 0.00
         Heteroskedasticity (H):     0.97, 0.88, 0.70   Skew:                0.01, -1.64, -0.77
         Prob(H) (two-sided):        0.87, 0.55, 0.10   Kurtosis:              2.54, 5.56, 2.95
                                       Results for equation Sales                             
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                -0.0080      0.039     -0.203      0.839      -0.085       0.069
         L1.Sales              0.2968      0.328      0.905      0.365      -0.346       0.940
         L1.rating             0.2165      0.143      1.512      0.131      -0.064       0.497
         L1.ovsentiment        0.0664      0.100      0.663      0.508      -0.130       0.263
         L1.e(Sales)          -0.1910      0.340     -0.561      0.575      -0.858       0.476
         L1.e(rating)         -0.0571      0.191     -0.300      0.764      -0.431       0.316
         L1.e(ovsentiment)     0.0187      0.152      0.123      0.902      -0.280       0.318
                                      Results for equation rating                             
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const              3.453e-05      0.002      0.019      0.985      -0.004       0.004
         L1.Sales              0.0096      0.144      0.067      0.947      -0.272       0.291
         L1.rating            -0.1395      0.096     -1.458      0.145      -0.327       0.048
         L1.ovsentiment        0.0218      0.058      0.376      0.707      -0.092       0.135
         L1.e(Sales)          -0.0032      0.163     -0.019      0.984      -0.323       0.317
         L1.e(rating)         -0.9825      0.029    -34.277      0.000      -1.039      -0.926
         L1.e(ovsentiment)     0.0037      0.017      0.219      0.826      -0.029       0.037
                                    Results for equation ovsentiment                          
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                -0.0035      0.019     -0.188      0.851      -0.040       0.033
         L1.Sales             -0.3603      0.291     -1.240      0.215      -0.930       0.209
         L1.rating             0.1365      0.109      1.258      0.208      -0.076       0.349
         L1.ovsentiment       -0.0642      0.100     -0.645      0.519      -0.259       0.131
         L1.e(Sales)           0.3848      0.307      1.255      0.209      -0.216       0.986
         L1.e(rating)         -0.0329      0.097     -0.338      0.735      -0.224       0.158
         L1.e(ovsentiment)    -0.9719      0.077    -12.611      0.000      -1.123      -0.821
                                             Error covariance matrix                                    
         ===============================================================================================
                                           coef    std err          z      P>|z|      [0.025      0.975]
         -----------------------------------------------------------------------------------------------
         sqrt.var.Sales                  0.6515      0.036     17.967      0.000       0.580       0.723
         sqrt.cov.Sales.rating          -0.0438      0.020     -2.224      0.026      -0.082      -0.005
         sqrt.var.rating                 0.2702      0.015     18.235      0.000       0.241       0.299
         sqrt.cov.Sales.ovsentiment     -0.0073      0.021     -0.344      0.731      -0.049       0.034
         sqrt.cov.rating.ovsentiment     0.0402      0.022      1.795      0.073      -0.004       0.084
         sqrt.var.ovsentiment            0.3079      0.020     15.696      0.000       0.269       0.346
         ===============================================================================================
         
         Warnings:
         [1] Covariance matrix calculated using the outer product of gradients (complex-step).
         """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}34}]:} \PY{n}{result1}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}34}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_31_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_31_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
         \PY{n}{y\PYZus{}test1}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}31}]:} (64, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}34}]:} \PY{n}{y\PYZus{}pred1} \PY{o}{=} \PY{n}{result1}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train1}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod1\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
         \PY{n}{y\PYZus{}forecasted1} \PY{o}{=} \PY{n}{y\PYZus{}pred1}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
         \PY{n}{y\PYZus{}forecasted1}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}34}]:} (64, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}forecasted1}\PY{p}{)}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}test1}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}35}]:} 0.7782022533067195
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}forecasted1}\PY{p}{)}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}test1}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}36}]:} 0.4200864440621337
\end{Verbatim}
            
    \hypertarget{mongodb-id-5aa2ad7735d6d34b0032a795-imputed}{%
\subsection{ 2. Mongodb ID: 5aa2ad7735d6d34b0032a795-imputed
}\label{mongodb-id-5aa2ad7735d6d34b0032a795-imputed}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{n}{prod2} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{prod2}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}35}]:}             Sales    rating  ovsentiment
         date                                    
         2016-11-06     82  3.500000     0.500000
         2016-11-07     88  5.000000     1.000000
         2016-11-08     74  0.000000     0.000000
         2016-11-09     72  0.000000     0.000000
         2016-11-10     98  4.666667     0.333333
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{c+c1}{\PYZsh{}prod2 = prod2[prod2[\PYZsq{}Sales\PYZsq{}] != 0]}
         \PY{n}{prod2}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}36}]:} (479, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod2Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod2Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}37}]:}           Value                        Label
         0 -1.500036e+01               Test Statistic
         1  2.185321e-22                      p-value
         2  1.000000e+00                   \#Lags Used
         3  4.770000e+02  Number of Observations Used
         4 -3.977875e+00        Critical value for 1\%
         5 -3.419734e+00        Critical value for 5\%
         6 -3.132488e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod2Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod2Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}38}]:}         Value                        Label
         0   -4.712726               Test Statistic
         1    0.000664                      p-value
         2    6.000000                   \#Lags Used
         3  472.000000  Number of Observations Used
         4   -3.978079        Critical value for 1\%
         5   -3.419833        Critical value for 5\%
         6   -3.132546       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod2Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod2Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}39}]:}         Value                        Label
         0   -6.133400               Test Statistic
         1    0.000001                      p-value
         2    5.000000                   \#Lags Used
         3  473.000000  Number of Observations Used
         4   -3.978038        Critical value for 1\%
         5   -3.419813        Critical value for 5\%
         6   -3.132534       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{num\PYZus{}var2} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var2}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod2}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_42_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_42_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_42_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{n}{prod2\PYZus{}transformed} \PY{o}{=} \PY{n}{prod2}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
         \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{prod2\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{n}{num\PYZus{}var2} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod2\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var2}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod2\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod2\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_45_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_45_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_45_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}45}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod2\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod2\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}45}]:}           Value                        Label
         0 -8.667700e+00               Test Statistic
         1  2.069387e-12                      p-value
         2  1.100000e+01                   \#Lags Used
         3  4.570000e+02  Number of Observations Used
         4 -3.978717e+00        Critical value for 1\%
         5 -3.420141e+00        Critical value for 5\%
         6 -3.132727e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod2\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod2\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}46}]:}           Value                        Label
         0 -1.616279e+01               Test Statistic
         1  1.111222e-22                      p-value
         2  5.000000e+00                   \#Lags Used
         3  4.630000e+02  Number of Observations Used
         4 -3.978457e+00        Critical value for 1\%
         5 -3.420015e+00        Critical value for 5\%
         6 -3.132653e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod2\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2ad7735d6d34b0032a795}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod2\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2ad7735d6d34b0032a795

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}47}]:}           Value                        Label
         0 -1.337390e+01               Test Statistic
         1  4.792686e-21                      p-value
         2  6.000000e+00                   \#Lags Used
         3  4.620000e+02  Number of Observations Used
         4 -3.978500e+00        Critical value for 1\%
         5 -3.420036e+00        Critical value for 5\%
         6 -3.132665e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
         \PY{n}{train2} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod2\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
         \PY{n}{y\PYZus{}train2} \PY{o}{=} \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train2}\PY{p}{]}
         \PY{n}{y\PYZus{}test2} \PY{o}{=} \PY{n}{prod2\PYZus{}transformed}\PY{p}{[}\PY{n}{train2}\PY{p}{:}\PY{p}{]}
         \PY{n}{y\PYZus{}train2}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test2}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}48}]:} ((376, 3), (93, 3))
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{n}{y\PYZus{}train2}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}49}]:} (376, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{n}{BIC2} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train2}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         \PY{n}{BIC2}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}50}]:}    index   param          BIC
         0      0  (0, 1)  1503.012229
         1      6  (1, 1)  1525.988190
         2     12  (2, 1)  1564.475648
         3      7  (1, 2)  1566.016698
         4     13  (2, 2)  1611.441982
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{n}{model2} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train2}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
         \PY{n}{result2} \PY{o}{=} \PY{n}{model2}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}52}]:} \PY{n}{result2}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}52}]:} <class 'statsmodels.iolib.summary.Summary'>
         """
                                            Statespace Model Results                                   
         ==============================================================================================
         Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  376
         Model:                                         VMA(1)   Log Likelihood                -696.717
                                                   + intercept   AIC                           1429.435
         Date:                                Tue, 04 Sep 2018   BIC                           1500.167
         Time:                                        20:10:42   HQIC                          1457.513
         Sample:                                    11-16-2016                                         
                                                  - 11-26-2017                                         
         Covariance Type:                                  opg                                         
         =======================================================================================
         Ljung-Box (Q):          155.40, 156.56, 42.73   Jarque-Bera (JB):    0.53, 54.79, 79.00
         Prob(Q):                     0.00, 0.00, 0.35   Prob(JB):              0.77, 0.00, 0.00
         Heteroskedasticity (H):      0.56, 0.77, 0.97   Skew:               -0.03, -0.64, -0.98
         Prob(H) (two-sided):         0.00, 0.14, 0.88   Kurtosis:              2.83, 1.64, 4.11
                                       Results for equation Sales                             
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                 0.0001      0.008      0.017      0.987      -0.015       0.015
         L1.e(Sales)          -0.0504      0.052     -0.966      0.334      -0.153       0.052
         L1.e(rating)         -0.0047      0.006     -0.754      0.451      -0.017       0.007
         L1.e(ovsentiment)     0.0098      0.034      0.291      0.771      -0.056       0.076
                                      Results for equation rating                             
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                 0.0026      0.005      0.474      0.635      -0.008       0.013
         L1.e(Sales)           0.1696      0.339      0.500      0.617      -0.495       0.834
         L1.e(rating)         -0.9831      0.024    -40.501      0.000      -1.031      -0.935
         L1.e(ovsentiment)    -0.0066      0.178     -0.037      0.971      -0.355       0.342
                                    Results for equation ovsentiment                          
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                 0.0003      0.001      0.242      0.809      -0.002       0.003
         L1.e(Sales)           0.0595      0.069      0.858      0.391      -0.076       0.195
         L1.e(rating)         -0.0001      0.004     -0.028      0.978      -0.009       0.008
         L1.e(ovsentiment)    -0.9784      0.032    -30.284      0.000      -1.042      -0.915
                                             Error covariance matrix                                    
         ===============================================================================================
                                           coef    std err          z      P>|z|      [0.025      0.975]
         -----------------------------------------------------------------------------------------------
         sqrt.var.Sales                  0.1531      0.006     25.695      0.000       0.141       0.165
         sqrt.cov.Sales.rating           0.0277      0.114      0.242      0.809      -0.197       0.252
         sqrt.var.rating                 2.2599      0.347      6.507      0.000       1.579       2.941
         sqrt.cov.Sales.ovsentiment      0.0015      0.023      0.067      0.946      -0.043       0.046
         sqrt.cov.rating.ovsentiment     0.3307      0.067      4.908      0.000       0.199       0.463
         sqrt.var.ovsentiment            0.2587      0.011     24.005      0.000       0.238       0.280
         ===============================================================================================
         
         Warnings:
         [1] Covariance matrix calculated using the outer product of gradients (complex-step).
         """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}53}]:} \PY{n}{result2}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}53}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_55_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_55_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}54}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
         \PY{n}{y\PYZus{}test2}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}54}]:} (93, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{n}{y\PYZus{}pred2} \PY{o}{=} \PY{n}{result2}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train2}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod2\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
         \PY{n}{y\PYZus{}forecasted2} \PY{o}{=} \PY{n}{y\PYZus{}pred2}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
         \PY{n}{y\PYZus{}forecasted2}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}55}]:} (93, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}56}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted2}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test2}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}56}]:} 1.5843668134037565
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}57}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted2}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test2}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}57}]:} 0.7210542185324681
\end{Verbatim}
            
    \hypertarget{mongodb-id-5aa39533ae1f941be7165ecd}{%
\subsection{ 3. Mongodb ID: 5aa39533ae1f941be7165ecd
}\label{mongodb-id-5aa39533ae1f941be7165ecd}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{prod3} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{prod3} \PY{o}{=} \PY{n}{prod3}\PY{p}{[}\PY{n}{prod3}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+m+mi}{0}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
        \PY{n}{prod3Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod3}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{prod3Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}9}]:}         Value                        Label
        0   -5.939505               Test Statistic
        1    0.000003                      p-value
        2    3.000000                   \#Lags Used
        3  356.000000  Number of Observations Used
        4   -3.984427        Critical value for 1\%
        5   -3.422895        Critical value for 5\%
        6   -3.134344       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod3Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod3}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod3Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:}           Value                        Label
         0 -8.956953e+00               Test Statistic
         1  4.541724e-13                      p-value
         2  2.000000e+00                   \#Lags Used
         3  3.570000e+02  Number of Observations Used
         4 -3.984355e+00        Critical value for 1\%
         5 -3.422860e+00        Critical value for 5\%
         6 -3.134324e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod3Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod3}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod3Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:}         Value                        Label
         0  -18.675693               Test Statistic
         1    0.000000                      p-value
         2    0.000000                   \#Lags Used
         3  359.000000  Number of Observations Used
         4   -3.984211        Critical value for 1\%
         5   -3.422791        Critical value for 5\%
         6   -3.134283       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{num\PYZus{}var3} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod3}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var3}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod3}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod3}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_66_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_66_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_66_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n}{prod3\PYZus{}transformed} \PY{o}{=} \PY{n}{prod3}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{prod3\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{n}{num\PYZus{}var3} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod3\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var3}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod3\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod3\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_71_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_71_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_71_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}34}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod3\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod3\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}34}]:}           Value                        Label
         0 -7.398839e+00               Test Statistic
         1  1.740593e-09                      p-value
         2  1.400000e+01                   \#Lags Used
         3  3.400000e+02  Number of Observations Used
         4 -3.985646e+00        Critical value for 1\%
         5 -3.423482e+00        Critical value for 5\%
         6 -3.134689e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod3\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod3\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}35}]:}           Value                        Label
         0 -6.982912e+00               Test Statistic
         1  1.544504e-08                      p-value
         2  1.600000e+01                   \#Lags Used
         3  3.380000e+02  Number of Observations Used
         4 -3.985807e+00        Critical value for 1\%
         5 -3.423560e+00        Critical value for 5\%
         6 -3.134735e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod3\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod3\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}36}]:}           Value                        Label
         0 -9.373808e+00               Test Statistic
         1  5.278567e-14                      p-value
         2  1.200000e+01                   \#Lags Used
         3  3.420000e+02  Number of Observations Used
         4 -3.985487e+00        Critical value for 1\%
         5 -3.423406e+00        Critical value for 5\%
         6 -3.134644e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
         \PY{n}{train3} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod3\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
         \PY{n}{y\PYZus{}train3} \PY{o}{=} \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train3}\PY{p}{]}
         \PY{n}{y\PYZus{}test3} \PY{o}{=} \PY{n}{prod3\PYZus{}transformed}\PY{p}{[}\PY{n}{train3}\PY{p}{:}\PY{p}{]}
         \PY{n}{y\PYZus{}train3}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test3}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}37}]:} ((284, 3), (71, 3))
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{n}{y\PYZus{}train3}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}38}]:} (284, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{n}{BIC3} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train3}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{BIC3}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}40}]:}    index   param          BIC
         0      0  (0, 1)  1066.361773
         1      6  (1, 1)  1114.893696
         2      1  (0, 2)  1117.856682
         3      7  (1, 2)  1153.884832
         4     12  (2, 1)  1154.273814
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{model3} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train3}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
         \PY{n}{result3} \PY{o}{=} \PY{n}{model3}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{n}{result3}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}42}]:} <class 'statsmodels.iolib.summary.Summary'>
         """
                                            Statespace Model Results                                   
         ==============================================================================================
         Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  284
         Model:                                         VMA(1)   Log Likelihood                -480.477
                                                   + intercept   AIC                            996.955
         Date:                                Thu, 06 Sep 2018   BIC                           1062.636
         Time:                                        22:42:11   HQIC                          1023.288
         Sample:                                             0                                         
                                                         - 284                                         
         Covariance Type:                                  opg                                         
         ======================================================================================
         Ljung-Box (Q):          106.25, 30.11, 40.97   Jarque-Bera (JB):    1.06, 61.29, 79.59
         Prob(Q):                    0.00, 0.87, 0.43   Prob(JB):              0.59, 0.00, 0.00
         Heteroskedasticity (H):     0.86, 0.84, 0.73   Skew:               -0.09, -1.00, -1.22
         Prob(H) (two-sided):        0.47, 0.40, 0.12   Kurtosis:              2.76, 4.10, 3.89
                                       Results for equation Sales                             
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                 0.0031      0.047      0.067      0.947      -0.089       0.095
         L1.e(Sales)           0.0988      0.070      1.405      0.160      -0.039       0.237
         L1.e(rating)         -0.0267      0.099     -0.271      0.786      -0.220       0.166
         L1.e(ovsentiment)     0.0240      0.138      0.174      0.862      -0.246       0.294
                                      Results for equation rating                             
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                 0.0009      0.001      1.107      0.268      -0.001       0.002
         L1.e(Sales)           0.0117      0.021      0.559      0.576      -0.029       0.053
         L1.e(rating)         -0.9942      0.044    -22.440      0.000      -1.081      -0.907
         L1.e(ovsentiment)     0.0032      0.030      0.107      0.915      -0.056       0.063
                                    Results for equation ovsentiment                          
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                 0.0002      0.001      0.241      0.809      -0.002       0.002
         L1.e(Sales)          -0.0183      0.018     -1.018      0.309      -0.053       0.017
         L1.e(rating)         -0.0028      0.023     -0.120      0.904      -0.048       0.042
         L1.e(ovsentiment)    -0.9921      0.024    -41.803      0.000      -1.039      -0.946
                                             Error covariance matrix                                    
         ===============================================================================================
                                           coef    std err          z      P>|z|      [0.025      0.975]
         -----------------------------------------------------------------------------------------------
         sqrt.var.Sales                  0.6630      0.031     21.331      0.000       0.602       0.724
         sqrt.cov.Sales.rating          -0.0228      0.028     -0.825      0.409      -0.077       0.031
         sqrt.var.rating                 0.3968      0.020     19.664      0.000       0.357       0.436
         sqrt.cov.Sales.ovsentiment     -0.0251      0.020     -1.244      0.213      -0.065       0.014
         sqrt.cov.rating.ovsentiment     0.0420      0.017      2.521      0.012       0.009       0.075
         sqrt.var.ovsentiment            0.2890      0.016     17.733      0.000       0.257       0.321
         ===============================================================================================
         
         Warnings:
         [1] Covariance matrix calculated using the outer product of gradients (complex-step).
         """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{n}{result3}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}43}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_82_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_82_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
         \PY{n}{y\PYZus{}test3}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}44}]:} (71, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}45}]:} \PY{n}{y\PYZus{}pred3} \PY{o}{=} \PY{n}{result3}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train3}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod3\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
         \PY{n}{y\PYZus{}forecasted3} \PY{o}{=} \PY{n}{y\PYZus{}pred3}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
         \PY{n}{y\PYZus{}forecasted3}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}45}]:} (71, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}forecasted3}\PY{p}{)}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}test3}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}46}]:} 2.4171095157826423
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}forecasted3}\PY{p}{)}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}test3}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}47}]:} 0.6287625648718697
\end{Verbatim}
            
    \hypertarget{mongodb-id-5aa39533ae1f941be7165ecd-imputed}{%
\subsection{ 4. Mongodb ID: 5aa39533ae1f941be7165ecd-imputed
}\label{mongodb-id-5aa39533ae1f941be7165ecd-imputed}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{n}{prod4} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{prod4} \PY{o}{=} \PY{n}{prod4}\PY{p}{[}\PY{n}{prod4}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+m+mi}{0}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod4Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod4}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod4Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}50}]:}         Value                        Label
         0  -22.354811               Test Statistic
         1    0.000000                      p-value
         2    0.000000                   \#Lags Used
         3  578.000000  Number of Observations Used
         4   -3.974519        Critical value for 1\%
         5   -3.418113        Critical value for 5\%
         6   -3.131535       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod4Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod4}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod4Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}51}]:}         Value                        Label
         0   -5.489097               Test Statistic
         1    0.000024                      p-value
         2    6.000000                   \#Lags Used
         3  572.000000  Number of Observations Used
         4   -3.974685        Critical value for 1\%
         5   -3.418193        Critical value for 5\%
         6   -3.131582       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}52}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod4Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod4}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod4Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}52}]:}           Value                        Label
         0 -7.626013e+00               Test Statistic
         1  5.223725e-10                      p-value
         2  5.000000e+00                   \#Lags Used
         3  5.730000e+02  Number of Observations Used
         4 -3.974657e+00        Critical value for 1\%
         5 -3.418180e+00        Critical value for 5\%
         6 -3.131574e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{n}{num\PYZus{}var4} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod4}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var4}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod4}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod4}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_92_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_92_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_92_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}56}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}57}]:} \PY{n}{prod4\PYZus{}transformed} \PY{o}{=} \PY{n}{prod4}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
         
         \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{prod4\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}58}]:} \PY{n}{num\PYZus{}var4} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod4\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var4}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod4\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod4\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_95_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_95_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_95_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}59}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}60}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod4\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod4\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}60}]:}           Value                        Label
         0 -9.190621e+00               Test Statistic
         1  1.351568e-13                      p-value
         2  1.900000e+01                   \#Lags Used
         3  5.490000e+02  Number of Observations Used
         4 -3.975355e+00        Critical value for 1\%
         5 -3.418517e+00        Critical value for 5\%
         6 -3.131773e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}61}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod4\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod4\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}61}]:}           Value                        Label
         0 -7.727387e+00               Test Statistic
         1  3.048274e-10                      p-value
         2  1.900000e+01                   \#Lags Used
         3  5.490000e+02  Number of Observations Used
         4 -3.975355e+00        Critical value for 1\%
         5 -3.418517e+00        Critical value for 5\%
         6 -3.131773e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}62}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod4\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa39533ae1f941be7165ecd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod4\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa39533ae1f941be7165ecd

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}62}]:}           Value                        Label
         0 -8.887883e+00               Test Statistic
         1  6.514117e-13                      p-value
         2  1.900000e+01                   \#Lags Used
         3  5.490000e+02  Number of Observations Used
         4 -3.975355e+00        Critical value for 1\%
         5 -3.418517e+00        Critical value for 5\%
         6 -3.131773e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}63}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
         \PY{n}{train4} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod4\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
         \PY{n}{y\PYZus{}train4} \PY{o}{=} \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train4}\PY{p}{]}
         \PY{n}{y\PYZus{}test4} \PY{o}{=} \PY{n}{prod4\PYZus{}transformed}\PY{p}{[}\PY{n}{train4}\PY{p}{:}\PY{p}{]}
         \PY{n}{y\PYZus{}train4}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test4}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}63}]:} ((456, 3), (113, 3))
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}64}]:} \PY{n}{BIC4} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train4}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}65}]:} \PY{n}{BIC4}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}65}]:}    index   param          BIC
         0      0  (0, 1)  2797.123919
         1      6  (1, 1)  2843.051759
         2     12  (2, 1)  2885.720536
         3      7  (1, 2)  2896.055103
         4      1  (0, 2)  2912.984333
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}66}]:} \PY{n}{model4} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train4}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
         \PY{n}{result4} \PY{o}{=} \PY{n}{model4}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         
         \PY{n}{result4}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}66}]:} <class 'statsmodels.iolib.summary.Summary'>
         """
                                            Statespace Model Results                                   
         ==============================================================================================
         Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  456
         Model:                                         VMA(1)   Log Likelihood               -1338.637
                                                   + intercept   AIC                           2713.273
         Date:                                Thu, 06 Sep 2018   BIC                           2787.478
         Time:                                        23:11:33   HQIC                          2742.504
         Sample:                                    08-08-2016                                         
                                                  - 11-06-2017                                         
         Covariance Type:                                  opg                                         
         ======================================================================================
         Ljung-Box (Q):          178.78, 66.73, 25.37   Jarque-Bera (JB):   3.24, 58.30, 174.04
         Prob(Q):                    0.00, 0.01, 0.97   Prob(JB):              0.20, 0.00, 0.00
         Heteroskedasticity (H):     1.14, 1.49, 0.96   Skew:               -0.19, -0.74, -1.23
         Prob(H) (two-sided):        0.42, 0.01, 0.81   Kurtosis:              3.15, 2.06, 4.76
                                       Results for equation Sales                             
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                -0.0039      0.026     -0.149      0.881      -0.056       0.048
         L1.e(Sales)           0.0883      0.053      1.678      0.093      -0.015       0.192
         L1.e(rating)          0.0124      0.020      0.609      0.542      -0.027       0.052
         L1.e(ovsentiment)    -0.0071      0.097     -0.073      0.941      -0.198       0.183
                                      Results for equation rating                             
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                -0.0007      0.011     -0.060      0.952      -0.022       0.021
         L1.e(Sales)          -0.2178      0.102     -2.145      0.032      -0.417      -0.019
         L1.e(rating)         -0.9483      0.029    -32.149      0.000      -1.006      -0.890
         L1.e(ovsentiment)     0.0032      0.151      0.021      0.983      -0.294       0.300
                                    Results for equation ovsentiment                          
         =====================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
         -------------------------------------------------------------------------------------
         const                -0.0001      0.001     -0.102      0.919      -0.003       0.002
         L1.e(Sales)          -0.0161      0.020     -0.817      0.414      -0.055       0.023
         L1.e(rating)          0.0025      0.005      0.502      0.615      -0.007       0.012
         L1.e(ovsentiment)    -0.9782      0.027    -36.071      0.000      -1.031      -0.925
                                             Error covariance matrix                                    
         ===============================================================================================
                                           coef    std err          z      P>|z|      [0.025      0.975]
         -----------------------------------------------------------------------------------------------
         sqrt.var.Sales                  0.5119      0.017     30.307      0.000       0.479       0.545
         sqrt.cov.Sales.rating          -0.2036      0.097     -2.101      0.036      -0.393      -0.014
         sqrt.var.rating                 2.0629      0.169     12.192      0.000       1.731       2.394
         sqrt.cov.Sales.ovsentiment     -0.0265      0.021     -1.284      0.199      -0.067       0.014
         sqrt.cov.rating.ovsentiment     0.3474      0.047      7.424      0.000       0.256       0.439
         sqrt.var.ovsentiment            0.2520      0.009     27.442      0.000       0.234       0.270
         ===============================================================================================
         
         Warnings:
         [1] Covariance matrix calculated using the outer product of gradients (complex-step).
         """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}67}]:} \PY{n}{result4}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}67}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_104_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_104_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}68}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
         \PY{n}{y\PYZus{}test4}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}68}]:} (113, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}69}]:} \PY{n}{y\PYZus{}pred4} \PY{o}{=} \PY{n}{result4}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train4}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod4\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
         \PY{n}{y\PYZus{}forecasted4} \PY{o}{=} \PY{n}{y\PYZus{}pred4}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
         \PY{n}{y\PYZus{}forecasted4}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}69}]:} (113, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}70}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}forecasted4}\PY{p}{)}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}test4}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}70}]:} 28.721518908172317
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}71}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}forecasted4}\PY{p}{)}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}test4}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}71}]:} 6.233248724090045
\end{Verbatim}
            
    \hypertarget{mongodb-id-5aa2c35e35d6d34b0032a796}{%
\subsection{ 5. Mongodb ID: 5aa2c35e35d6d34b0032a796
}\label{mongodb-id-5aa2c35e35d6d34b0032a796}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}72}]:} \PY{n}{prod5} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{prod5} \PY{o}{=} \PY{n}{prod5}\PY{p}{[}\PY{n}{prod5}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+m+mi}{0}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}73}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod5Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod5}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod5Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}73}]:}         Value                        Label
         0   -4.541208               Test Statistic
         1    0.001292                      p-value
         2    6.000000                   \#Lags Used
         3  223.000000  Number of Observations Used
         4   -3.999951        Critical value for 1\%
         5   -3.430364        Critical value for 5\%
         6   -3.138726       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}74}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod5Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod5}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod5Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}74}]:}           Value                        Label
         0 -1.485341e+01               Test Statistic
         1  2.611554e-22                      p-value
         2  0.000000e+00                   \#Lags Used
         3  2.290000e+02  Number of Observations Used
         4 -3.998856e+00        Critical value for 1\%
         5 -3.429838e+00        Critical value for 5\%
         6 -3.138418e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}75}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
         \PY{n}{prod5Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod5}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{prod5Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}75}]:}           Value                        Label
         0 -7.974092e+00               Test Statistic
         1  8.201721e-11                      p-value
         2  4.000000e+00                   \#Lags Used
         3  2.250000e+02  Number of Observations Used
         4 -3.999579e+00        Critical value for 1\%
         5 -3.430185e+00        Critical value for 5\%
         6 -3.138621e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}76}]:} \PY{n}{num\PYZus{}var5} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod5}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var5}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod5}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod5}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_114_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_114_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_114_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}77}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}97}]:} \PY{n}{prod5\PYZus{}transformed} \PY{o}{=} \PY{n}{prod5}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
         \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{)}
         
         \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{prod5\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}98}]:} \PY{n}{num\PYZus{}var5} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod5\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var5}\PY{p}{)}\PY{p}{:}
             \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod5\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod5\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_117_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_117_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_117_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}99}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}100}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod5\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod5\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}100}]:}           Value                        Label
          0 -7.123843e+00               Test Statistic
          1  7.399297e-09                      p-value
          2  1.100000e+01                   \#Lags Used
          3  2.140000e+02  Number of Observations Used
          4 -4.001709e+00        Critical value for 1\%
          5 -3.431208e+00        Critical value for 5\%
          6 -3.139220e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}101}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod5\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod5\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}101}]:}           Value                        Label
          0 -7.436737e+00               Test Statistic
          1  1.424552e-09                      p-value
          2  1.100000e+01                   \#Lags Used
          3  2.140000e+02  Number of Observations Used
          4 -4.001709e+00        Critical value for 1\%
          5 -3.431208e+00        Critical value for 5\%
          6 -3.139220e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}102}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod5\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod5\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}102}]:}           Value                        Label
          0 -7.913270e+00               Test Statistic
          1  1.133773e-10                      p-value
          2  1.200000e+01                   \#Lags Used
          3  2.130000e+02  Number of Observations Used
          4 -4.001913e+00        Critical value for 1\%
          5 -3.431306e+00        Critical value for 5\%
          6 -3.139278e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}103}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
          \PY{n}{train5} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod5\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
          \PY{n}{y\PYZus{}train5} \PY{o}{=} \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train5}\PY{p}{]}
          \PY{n}{y\PYZus{}test5} \PY{o}{=} \PY{n}{prod5\PYZus{}transformed}\PY{p}{[}\PY{n}{train5}\PY{p}{:}\PY{p}{]}
          \PY{n}{y\PYZus{}train5}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test5}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}103}]:} ((181, 3), (45, 3))
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}104}]:} \PY{n}{BIC5} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train5}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}105}]:} \PY{n}{BIC5}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}105}]:}    index   param         BIC
          0      0  (0, 1)  750.154675
          1      6  (1, 1)  800.311496
          2      1  (0, 2)  801.629635
          3      3  (0, 4)  836.207219
          4     12  (2, 1)  837.377763
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}106}]:} \PY{n}{model5} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train5}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
          \PY{n}{result5} \PY{o}{=} \PY{n}{model5}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
          
          \PY{n}{result5}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}106}]:} <class 'statsmodels.iolib.summary.Summary'>
          """
                                             Statespace Model Results                                   
          ==============================================================================================
          Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  181
          Model:                                         VMA(1)   Log Likelihood                -326.733
                                                    + intercept   AIC                            689.465
          Date:                                Thu, 06 Sep 2018   BIC                            747.038
          Time:                                        23:47:18   HQIC                           712.807
          Sample:                                             0                                         
                                                          - 181                                         
          Covariance Type:                                  opg                                         
          =====================================================================================
          Ljung-Box (Q):          98.46, 54.80, 41.73   Jarque-Bera (JB):   1.20, 177.53, 73.51
          Prob(Q):                   0.00, 0.06, 0.40   Prob(JB):              0.55, 0.00, 0.00
          Heteroskedasticity (H):    1.18, 0.47, 0.89   Skew:                0.15, -1.73, -1.32
          Prob(H) (two-sided):       0.52, 0.00, 0.64   Kurtosis:              2.74, 6.41, 4.67
                                        Results for equation Sales                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0217      0.060      0.361      0.718      -0.096       0.139
          L1.e(Sales)           0.0797      0.087      0.916      0.360      -0.091       0.250
          L1.e(rating)         -0.0095      0.157     -0.060      0.952      -0.318       0.299
          L1.e(ovsentiment)    -0.0023      0.139     -0.017      0.987      -0.275       0.270
                                       Results for equation rating                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0006      0.002      0.349      0.727      -0.003       0.004
          L1.e(Sales)          -0.0279      0.040     -0.697      0.486      -0.106       0.051
          L1.e(rating)         -0.9957      0.162     -6.133      0.000      -1.314      -0.677
          L1.e(ovsentiment)    -0.0071      0.067     -0.106      0.915      -0.139       0.124
                                     Results for equation ovsentiment                          
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                -0.0004      0.002     -0.218      0.828      -0.004       0.003
          L1.e(Sales)           0.0205      0.032      0.633      0.526      -0.043       0.084
          L1.e(rating)          0.0067      0.074      0.090      0.928      -0.138       0.152
          L1.e(ovsentiment)    -0.9977      0.145     -6.896      0.000      -1.281      -0.714
                                              Error covariance matrix                                    
          ===============================================================================================
                                            coef    std err          z      P>|z|      [0.025      0.975]
          -----------------------------------------------------------------------------------------------
          sqrt.var.Sales                  0.6514      0.040     16.251      0.000       0.573       0.730
          sqrt.cov.Sales.rating           0.0040      0.035      0.115      0.908      -0.064       0.072
          sqrt.var.rating                 0.3471      0.035      9.929      0.000       0.279       0.416
          sqrt.cov.Sales.ovsentiment      0.0076      0.033      0.232      0.816      -0.057       0.072
          sqrt.cov.rating.ovsentiment     0.0341      0.035      0.962      0.336      -0.035       0.104
          sqrt.var.ovsentiment            0.3709      0.035     10.461      0.000       0.301       0.440
          ===============================================================================================
          
          Warnings:
          [1] Covariance matrix calculated using the outer product of gradients (complex-step).
          """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}107}]:} \PY{n}{result5}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}107}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_126_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_126_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}108}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
          \PY{n}{y\PYZus{}test5}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}108}]:} (45, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}109}]:} \PY{n}{y\PYZus{}pred5} \PY{o}{=} \PY{n}{result5}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train5}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod5\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
          \PY{n}{y\PYZus{}forecasted5} \PY{o}{=} \PY{n}{y\PYZus{}pred5}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
          \PY{n}{y\PYZus{}forecasted5}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}109}]:} (45, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}110}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}forecasted5}\PY{p}{)}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}test5}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}110}]:} 0.676543949712611
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}111}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}forecasted5}\PY{p}{)}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{y\PYZus{}test5}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}111}]:} 0.4185810860105266
\end{Verbatim}
            
    \hypertarget{mongodb-id-5aa2c35e35d6d34b0032a796-imputed}{%
\subsection{ 6. Mongodb ID: 5aa2c35e35d6d34b0032a796-imputed
}\label{mongodb-id-5aa2c35e35d6d34b0032a796-imputed}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}119}]:} \PY{n}{prod6} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}120}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod6Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod6}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod6Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}120}]:}         Value                        Label
          0  -20.916162               Test Statistic
          1    0.000000                      p-value
          2    0.000000                   \#Lags Used
          3  426.000000  Number of Observations Used
          4   -3.980180        Critical value for 1\%
          5   -3.420846        Critical value for 5\%
          6   -3.133141       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}121}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod6Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod6}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod6Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}121}]:}           Value                        Label
          0 -7.235155e+00               Test Statistic
          1  4.125541e-09                      p-value
          2  4.000000e+00                   \#Lags Used
          3  4.220000e+02  Number of Observations Used
          4 -3.980384e+00        Critical value for 1\%
          5 -3.420945e+00        Critical value for 5\%
          6 -3.133199e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}122}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod6Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod6}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod6Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}122}]:}           Value                        Label
          0 -9.076695e+00               Test Statistic
          1  2.436469e-13                      p-value
          2  3.000000e+00                   \#Lags Used
          3  4.230000e+02  Number of Observations Used
          4 -3.980333e+00        Critical value for 1\%
          5 -3.420920e+00        Critical value for 5\%
          6 -3.133185e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}123}]:} \PY{n}{num\PYZus{}var6} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod6}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var6}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod6}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod6}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_136_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_136_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_136_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}129}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
          
          \PY{n}{prod6\PYZus{}transformed} \PY{o}{=} \PY{n}{prod6}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
          \PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}
          
          \PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          
          \PY{n}{prod6\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}130}]:} \PY{n}{num\PYZus{}var6} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod6\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var6}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod6\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod6\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_138_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_138_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_138_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}131}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}132}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod6\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod6\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}132}]:}           Value                        Label
          0 -9.227964e+00               Test Statistic
          1  1.114982e-13                      p-value
          2  1.500000e+01                   \#Lags Used
          3  4.060000e+02  Number of Observations Used
          4 -3.981243e+00        Critical value for 1\%
          5 -3.421359e+00        Critical value for 5\%
          6 -3.133443e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}133}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod6\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod6\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}133}]:}           Value                        Label
          0 -1.047124e+01               Test Statistic
          1  2.432383e-16                      p-value
          2  9.000000e+00                   \#Lags Used
          3  4.120000e+02  Number of Observations Used
          4 -3.980913e+00        Critical value for 1\%
          5 -3.421200e+00        Critical value for 5\%
          6 -3.133349e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}134}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod6\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5aa2c35e35d6d34b0032a796}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod6\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5aa2c35e35d6d34b0032a796

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}134}]:}           Value                        Label
          0 -8.995425e+00               Test Statistic
          1  3.716800e-13                      p-value
          2  1.400000e+01                   \#Lags Used
          3  4.070000e+02  Number of Observations Used
          4 -3.981187e+00        Critical value for 1\%
          5 -3.421332e+00        Critical value for 5\%
          6 -3.133427e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}135}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
          \PY{n}{train6} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod6\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
          \PY{n}{y\PYZus{}train6} \PY{o}{=} \PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train6}\PY{p}{]}
          \PY{n}{y\PYZus{}test6} \PY{o}{=} \PY{n}{prod6\PYZus{}transformed}\PY{p}{[}\PY{n}{train6}\PY{p}{:}\PY{p}{]}
          \PY{n}{y\PYZus{}train6}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test6}\PY{o}{.}\PY{n}{shape}
          
          \PY{n}{BIC6} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train6}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}136}]:} \PY{n}{BIC6}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}136}]:}    index   param          BIC
          0      0  (0, 1)  2319.463369
          1      4  (1, 1)  2377.087815
          2     10  (2, 1)  2416.893465
          3      5  (1, 2)  2431.484364
          4     14  (2, 5)  2459.248890
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}137}]:} \PY{n}{model6} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train6}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
          \PY{n}{result6} \PY{o}{=} \PY{n}{model6}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
          
          \PY{n}{result6}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}137}]:} <class 'statsmodels.iolib.summary.Summary'>
          """
                                             Statespace Model Results                                   
          ==============================================================================================
          Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  338
          Model:                                         VMA(1)   Log Likelihood               -1106.588
                                                    + intercept   AIC                           2249.177
          Date:                                Fri, 07 Sep 2018   BIC                           2317.992
          Time:                                        00:15:25   HQIC                          2276.602
          Sample:                                    01-02-2017                                         
                                                   - 12-05-2017                                         
          Covariance Type:                                  opg                                         
          ==========================================================================================
          Ljung-Box (Q):          92.61, 57.99, 35.13   Jarque-Bera (JB):   21640.92, 39.90, 1027.64
          Prob(Q):                   0.00, 0.03, 0.69   Prob(JB):                   0.00, 0.00, 0.00
          Heteroskedasticity (H):    1.99, 1.19, 2.38   Skew:                      0.01, 0.11, -1.95
          Prob(H) (two-sided):       0.00, 0.35, 0.00   Kurtosis:                 42.20, 1.33, 10.60
                                        Results for equation Sales                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0023      0.042      0.055      0.956      -0.080       0.085
          L1.e(Sales)          -0.0238      0.436     -0.055      0.957      -0.878       0.831
          L1.e(rating)         -0.0028      0.035     -0.078      0.938      -0.072       0.066
          L1.e(ovsentiment)     0.0069      0.157      0.044      0.965      -0.301       0.315
                                       Results for equation rating                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0069      0.004      1.957      0.050   -1.12e-05       0.014
          L1.e(Sales)          -0.0712      0.147     -0.483      0.629      -0.360       0.218
          L1.e(rating)         -0.9967      0.071    -14.090      0.000      -1.135      -0.858
          L1.e(ovsentiment)    -0.0020      0.330     -0.006      0.995      -0.649       0.645
                                     Results for equation ovsentiment                          
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0009      0.001      1.306      0.192      -0.000       0.002
          L1.e(Sales)          -0.0141      0.030     -0.471      0.638      -0.073       0.045
          L1.e(rating)          0.0004      0.008      0.057      0.955      -0.015       0.016
          L1.e(ovsentiment)    -0.9964      0.044    -22.800      0.000      -1.082      -0.911
                                              Error covariance matrix                                    
          ===============================================================================================
                                            coef    std err          z      P>|z|      [0.025      0.975]
          -----------------------------------------------------------------------------------------------
          sqrt.var.Sales                  0.6208      0.006    100.520      0.000       0.609       0.633
          sqrt.cov.Sales.rating           0.0505      0.159      0.316      0.752      -0.262       0.363
          sqrt.var.rating                 2.3119      0.240      9.619      0.000       1.841       2.783
          sqrt.cov.Sales.ovsentiment      0.0368      0.030      1.231      0.218      -0.022       0.095
          sqrt.cov.rating.ovsentiment     0.3536      0.044      8.029      0.000       0.267       0.440
          sqrt.var.ovsentiment            0.2586      0.009     30.015      0.000       0.242       0.275
          ===============================================================================================
          
          Warnings:
          [1] Covariance matrix calculated using the outer product of gradients (complex-step).
          """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}138}]:} \PY{n}{result6}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}138}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_146_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_146_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}139}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
          \PY{n}{y\PYZus{}test6}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}139}]:} (84, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}140}]:} \PY{n}{y\PYZus{}pred6} \PY{o}{=} \PY{n}{result6}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train6}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod6\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
          \PY{n}{y\PYZus{}forecasted6} \PY{o}{=} \PY{n}{y\PYZus{}pred6}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
          \PY{n}{y\PYZus{}forecasted6}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}140}]:} (84, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}162}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted6}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}162}]:} 1.7159561034053463
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}163}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted6}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test6}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}163}]:} 0.7883439912981908
\end{Verbatim}
            
    \hypertarget{mongodb-id-5a93e8768cbad97881597597}{%
\subsection{ 7. Mongodb ID: 5a93e8768cbad97881597597
}\label{mongodb-id-5a93e8768cbad97881597597}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}143}]:} \PY{n}{prod7} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}144}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod7Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod7}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod7Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}144}]:}          Value                        Label
          0    -2.356416               Test Statistic
          1     0.403031                      p-value
          2    21.000000                   \#Lags Used
          3  1097.000000  Number of Observations Used
          4    -3.967046        Critical value for 1\%
          5    -3.414500        Critical value for 5\%
          6    -3.129410       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}145}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod7Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod7}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod7Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}145}]:}          Value                        Label
          0    -3.169034               Test Statistic
          1     0.090750                      p-value
          2    20.000000                   \#Lags Used
          3  1098.000000  Number of Observations Used
          4    -3.967039        Critical value for 1\%
          5    -3.414496        Critical value for 5\%
          6    -3.129408       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}146}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod7Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod7}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod7Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}146}]:}          Value                        Label
          0    -4.998043               Test Statistic
          1     0.000207                      p-value
          2    15.000000                   \#Lags Used
          3  1103.000000  Number of Observations Used
          4    -3.967001        Critical value for 1\%
          5    -3.414478        Critical value for 5\%
          6    -3.129397       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}148}]:} \PY{n}{num\PYZus{}var7} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod7}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var7}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod7}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod7}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_156_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_156_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_156_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}149}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}154}]:} \PY{n}{prod7\PYZus{}transformed} \PY{o}{=} \PY{n}{prod7}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
          \PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}
          
          \PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          
          \PY{n}{prod7\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}155}]:} \PY{n}{num\PYZus{}var7} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod7\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var7}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod7\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod7\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_159_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_159_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_159_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}156}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}157}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod7\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod7\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}157}]:}           Value                        Label
          0 -1.138428e+01               Test Statistic
          1  4.331176e-18                      p-value
          2  2.200000e+01                   \#Lags Used
          3  1.091000e+03  Number of Observations Used
          4 -3.967092e+00        Critical value for 1\%
          5 -3.414522e+00        Critical value for 5\%
          6 -3.129423e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}158}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod7\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod7\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}158}]:}           Value                        Label
          0 -1.299204e+01               Test Statistic
          1  1.391415e-20                      p-value
          2  1.900000e+01                   \#Lags Used
          3  1.094000e+03  Number of Observations Used
          4 -3.967069e+00        Critical value for 1\%
          5 -3.414511e+00        Critical value for 5\%
          6 -3.129417e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}159}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod7\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod7\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}159}]:}           Value                        Label
          0 -1.256054e+01               Test Statistic
          1  5.362305e-20                      p-value
          2  1.900000e+01                   \#Lags Used
          3  1.094000e+03  Number of Observations Used
          4 -3.967069e+00        Critical value for 1\%
          5 -3.414511e+00        Critical value for 5\%
          6 -3.129417e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}160}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
          \PY{n}{train7} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod7\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
          \PY{n}{y\PYZus{}train7} \PY{o}{=} \PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train7}\PY{p}{]}
          \PY{n}{y\PYZus{}test7} \PY{o}{=} \PY{n}{prod7\PYZus{}transformed}\PY{p}{[}\PY{n}{train7}\PY{p}{:}\PY{p}{]}
          \PY{n}{y\PYZus{}train7}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test7}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}160}]:} ((892, 3), (222, 3))
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}161}]:} \PY{n}{BIC7} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train7}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}164}]:} \PY{n}{BIC7}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}164}]:}    index   param          BIC
          0     28  (4, 5)  8816.990236
          1     34  (5, 5)  8848.732238
          2     32  (5, 3)  8945.615398
          3     33  (5, 4)  9042.097336
          4     31  (5, 2)  9071.490259
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}165}]:} \PY{n}{model7} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train7}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
          \PY{n}{result7} \PY{o}{=} \PY{n}{model7}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
          
          \PY{n}{result7}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}165}]:} <class 'statsmodels.iolib.summary.Summary'>
          """
                                             Statespace Model Results                                   
          ==============================================================================================
          Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  892
          Model:                                     VARMA(4,5)   Log Likelihood               -4049.326
                                                    + intercept   AIC                           8278.652
          Date:                                Fri, 07 Sep 2018   BIC                           8710.064
          Time:                                        01:29:36   HQIC                          8443.525
          Sample:                                    02-09-2015                                         
                                                   - 07-19-2017                                         
          Covariance Type:                                  opg                                         
          ==========================================================================================
          Ljung-Box (Q):          109.97, 50.82, 35.19   Jarque-Bera (JB):   299.19, 288.99, 3144.41
          Prob(Q):                    0.00, 0.12, 0.69   Prob(JB):                  0.00, 0.00, 0.00
          Heteroskedasticity (H):     5.07, 1.84, 3.89   Skew:                     0.88, 0.88, -1.95
          Prob(H) (two-sided):        0.00, 0.00, 0.00   Kurtosis:                 5.22, 5.16, 11.33
                                        Results for equation Sales                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                -0.0123      0.256     -0.048      0.962      -0.515       0.490
          L1.Sales             -0.1665      0.070     -2.383      0.017      -0.303      -0.030
          L1.rating             0.4503      1.854      0.243      0.808      -3.184       4.085
          L1.ovsentiment        1.3112     16.085      0.082      0.935     -30.214      32.837
          L2.Sales             -0.0818      0.061     -1.347      0.178      -0.201       0.037
          L2.rating             0.6641      1.998      0.332      0.740      -3.251       4.580
          L2.ovsentiment        0.4712     13.119      0.036      0.971     -25.241      26.183
          L3.Sales             -0.1495      0.058     -2.563      0.010      -0.264      -0.035
          L3.rating             0.7999      1.714      0.467      0.641      -2.560       4.160
          L3.ovsentiment       -0.0398     12.068     -0.003      0.997     -23.693      23.614
          L4.Sales             -0.0558      0.056     -1.005      0.315      -0.165       0.053
          L4.rating             1.2284      0.992      1.239      0.215      -0.715       3.172
          L4.ovsentiment        0.3740      6.813      0.055      0.956     -12.979      13.727
          L1.e(Sales)           0.0631      0.099      0.636      0.525      -0.131       0.258
          L1.e(rating)         -0.4102      1.860     -0.220      0.826      -4.057       3.236
          L1.e(ovsentiment)    -0.0523     16.130     -0.003      0.997     -31.667      31.562
          L2.e(Sales)           0.3125      0.158      1.978      0.048       0.003       0.622
          L2.e(rating)         -0.4483      2.027     -0.221      0.825      -4.422       3.525
          L2.e(ovsentiment)     0.2255     17.199      0.013      0.990     -33.485      33.936
          L3.e(Sales)           0.3606      0.168      2.143      0.032       0.031       0.690
          L3.e(rating)         -0.5529      1.421     -0.389      0.697      -3.337       2.232
          L3.e(ovsentiment)     0.7635     10.943      0.070      0.944     -20.685      22.212
          L4.e(Sales)           0.2280      0.146      1.558      0.119      -0.059       0.515
          L4.e(rating)         -0.6035      1.434     -0.421      0.674      -3.415       2.208
          L4.e(ovsentiment)     0.5842     10.389      0.056      0.955     -19.777      20.946
          L5.e(Sales)          -0.4688      0.211     -2.222      0.026      -0.882      -0.055
          L5.e(rating)          0.3902      1.211      0.322      0.747      -1.983       2.763
          L5.e(ovsentiment)     0.4798      7.304      0.066      0.948     -13.836      14.796
                                       Results for equation rating                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0006      0.033      0.018      0.986      -0.064       0.065
          L1.Sales              0.0273      0.031      0.872      0.383      -0.034       0.089
          L1.rating            -0.7451      1.091     -0.683      0.495      -2.883       1.393
          L1.ovsentiment        0.7061      9.431      0.075      0.940     -17.779      19.191
          L2.Sales              0.0038      0.029      0.131      0.895      -0.052       0.060
          L2.rating            -0.5216      1.134     -0.460      0.645      -2.744       1.701
          L2.ovsentiment        0.1260      7.910      0.016      0.987     -15.378      15.630
          L3.Sales             -0.0300      0.028     -1.072      0.284      -0.085       0.025
          L3.rating            -0.3117      0.899     -0.347      0.729      -2.075       1.451
          L3.ovsentiment       -0.0533      6.745     -0.008      0.994     -13.272      13.166
          L4.Sales             -0.0031      0.029     -0.109      0.913      -0.060       0.053
          L4.rating            -0.1106      0.549     -0.202      0.840      -1.186       0.965
          L4.ovsentiment        0.2279      4.132      0.055      0.956      -7.870       8.326
          L1.e(Sales)          -0.1461      0.049     -2.976      0.003      -0.242      -0.050
          L1.e(rating)         -0.0216      1.097     -0.020      0.984      -2.171       2.128
          L1.e(ovsentiment)     0.0280      9.441      0.003      0.998     -18.476      18.532
          L2.e(Sales)           0.0418      0.081      0.515      0.607      -0.117       0.201
          L2.e(rating)         -0.2206      1.144     -0.193      0.847      -2.464       2.022
          L2.e(ovsentiment)     0.0721      9.960      0.007      0.994     -19.449      19.594
          L3.e(Sales)           0.0880      0.082      1.072      0.284      -0.073       0.249
          L3.e(rating)         -0.3150      0.829     -0.380      0.704      -1.939       1.309
          L3.e(ovsentiment)     0.1686      6.628      0.025      0.980     -12.822      13.159
          L4.e(Sales)           0.0277      0.081      0.343      0.732      -0.131       0.186
          L4.e(rating)         -0.2304      0.779     -0.296      0.767      -1.757       1.296
          L4.e(ovsentiment)     0.2612      5.871      0.044      0.965     -11.246      11.768
          L5.e(Sales)           0.1682      0.118      1.427      0.153      -0.063       0.399
          L5.e(rating)         -0.4780      0.693     -0.690      0.490      -1.836       0.880
          L5.e(ovsentiment)     0.3442      4.350      0.079      0.937      -8.181       8.870
                                     Results for equation ovsentiment                          
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0001      0.005      0.020      0.984      -0.010       0.010
          L1.Sales              0.0026      0.006      0.463      0.643      -0.008       0.014
          L1.rating             0.0180      0.215      0.084      0.933      -0.404       0.440
          L1.ovsentiment       -0.7871      1.854     -0.425      0.671      -4.420       2.846
          L2.Sales              0.0006      0.005      0.111      0.912      -0.010       0.011
          L2.rating             0.0130      0.225      0.058      0.954      -0.428       0.454
          L2.ovsentiment       -0.6415      1.550     -0.414      0.679      -3.679       2.396
          L3.Sales             -0.0028      0.006     -0.495      0.620      -0.014       0.008
          L3.rating             0.0147      0.185      0.079      0.937      -0.348       0.378
          L3.ovsentiment       -0.4926      1.390     -0.354      0.723      -3.217       2.232
          L4.Sales             -0.0004      0.005     -0.066      0.947      -0.011       0.010
          L4.rating             0.0133      0.102      0.130      0.897      -0.187       0.214
          L4.ovsentiment       -0.2309      0.762     -0.303      0.762      -1.724       1.262
          L1.e(Sales)          -0.0189      0.009     -2.210      0.027      -0.036      -0.002
          L1.e(rating)          0.0254      0.216      0.118      0.906      -0.398       0.449
          L1.e(ovsentiment)    -0.2017      1.856     -0.109      0.913      -3.840       3.437
          L2.e(Sales)           0.0083      0.015      0.560      0.575      -0.021       0.037
          L2.e(rating)         -0.0019      0.211     -0.009      0.993      -0.416       0.412
          L2.e(ovsentiment)    -0.2000      1.784     -0.112      0.911      -3.697       3.297
          L3.e(Sales)           0.0072      0.014      0.508      0.611      -0.021       0.035
          L3.e(rating)         -0.0026      0.147     -0.018      0.986      -0.292       0.286
          L3.e(ovsentiment)    -0.1841      1.142     -0.161      0.872      -2.423       2.055
          L4.e(Sales)           0.0112      0.015      0.750      0.453      -0.018       0.041
          L4.e(rating)         -0.0123      0.161     -0.076      0.939      -0.329       0.304
          L4.e(ovsentiment)    -0.2120      1.184     -0.179      0.858      -2.532       2.108
          L5.e(Sales)           0.0219      0.023      0.975      0.329      -0.022       0.066
          L5.e(rating)         -0.0378      0.128     -0.295      0.768      -0.288       0.213
          L5.e(ovsentiment)    -0.1852      0.797     -0.232      0.816      -1.748       1.377
                                              Error covariance matrix                                    
          ===============================================================================================
                                            coef    std err          z      P>|z|      [0.025      0.975]
          -----------------------------------------------------------------------------------------------
          sqrt.var.Sales                  4.9582      0.160     31.045      0.000       4.645       5.271
          sqrt.cov.Sales.rating           1.7717      0.088     20.160      0.000       1.599       1.944
          sqrt.var.rating                 1.0970      0.038     28.531      0.000       1.022       1.172
          sqrt.cov.Sales.ovsentiment      0.2671      0.018     14.976      0.000       0.232       0.302
          sqrt.cov.rating.ovsentiment     0.1662      0.010     17.276      0.000       0.147       0.185
          sqrt.var.ovsentiment            0.2362      0.006     38.774      0.000       0.224       0.248
          ===============================================================================================
          
          Warnings:
          [1] Covariance matrix calculated using the outer product of gradients (complex-step).
          """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}166}]:} \PY{n}{result7}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}166}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_168_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_168_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}167}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
          \PY{n}{y\PYZus{}test7}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}167}]:} (222, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}168}]:} \PY{n}{y\PYZus{}pred7} \PY{o}{=} \PY{n}{result7}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train7}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod7\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
          \PY{n}{y\PYZus{}forecasted7} \PY{o}{=} \PY{n}{y\PYZus{}pred7}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
          \PY{n}{y\PYZus{}forecasted7}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}168}]:} (222, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}169}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted7}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test7}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}169}]:} 3.254278728359562
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}170}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted7}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test7}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}170}]:} 1.50236121034984
\end{Verbatim}
            
    \hypertarget{mongodb-id-5a93e8768cbad97881597597-imputed}{%
\subsection{ 8. Mongodb ID: 5a93e8768cbad97881597597-imputed
}\label{mongodb-id-5a93e8768cbad97881597597-imputed}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}171}]:} \PY{n}{prod8} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}172}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod8Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod8}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod8Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}172}]:}          Value                        Label
          0   -32.242213               Test Statistic
          1     0.000000                      p-value
          2     0.000000                   \#Lags Used
          3  1117.000000  Number of Observations Used
          4    -3.966898        Critical value for 1\%
          5    -3.414428        Critical value for 5\%
          6    -3.129368       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}173}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod8Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod8}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod8Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}173}]:}          Value                        Label
          0    -3.175354               Test Statistic
          1     0.089426                      p-value
          2    20.000000                   \#Lags Used
          3  1097.000000  Number of Observations Used
          4    -3.967046        Critical value for 1\%
          5    -3.414500        Critical value for 5\%
          6    -3.129410       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}174}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod8Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod8}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod8Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}174}]:}          Value                        Label
          0    -4.978540               Test Statistic
          1     0.000225                      p-value
          2    15.000000                   \#Lags Used
          3  1102.000000  Number of Observations Used
          4    -3.967009        Critical value for 1\%
          5    -3.414482        Critical value for 5\%
          6    -3.129400       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}175}]:} \PY{n}{num\PYZus{}var8} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod8}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var8}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod8}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod8}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_178_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_178_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_178_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}176}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}177}]:} \PY{n}{prod8\PYZus{}transformed} \PY{o}{=} \PY{n}{prod8}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
          \PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
          
          \PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          
          \PY{n}{prod8\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}178}]:} \PY{n}{num\PYZus{}var8} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod8\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var8}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod8\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod8\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_181_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_181_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_181_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}179}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}180}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod8\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod8\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}180}]:}           Value                        Label
          0 -1.301800e+01               Test Statistic
          1  1.289129e-20                      p-value
          2  1.900000e+01                   \#Lags Used
          3  1.088000e+03  Number of Observations Used
          4 -3.967115e+00        Critical value for 1\%
          5 -3.414533e+00        Critical value for 5\%
          6 -3.129430e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}181}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod8\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod8\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}181}]:}           Value                        Label
          0 -1.299398e+01               Test Statistic
          1  1.383446e-20                      p-value
          2  1.900000e+01                   \#Lags Used
          3  1.088000e+03  Number of Observations Used
          4 -3.967115e+00        Critical value for 1\%
          5 -3.414533e+00        Critical value for 5\%
          6 -3.129430e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}182}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod8\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a93e8768cbad97881597597}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod8\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a93e8768cbad97881597597

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}182}]:}           Value                        Label
          0 -1.261995e+01               Test Statistic
          1  4.414082e-20                      p-value
          2  1.900000e+01                   \#Lags Used
          3  1.088000e+03  Number of Observations Used
          4 -3.967115e+00        Critical value for 1\%
          5 -3.414533e+00        Critical value for 5\%
          6 -3.129430e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}183}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
          \PY{n}{train8} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod8\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
          \PY{n}{y\PYZus{}train8} \PY{o}{=} \PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train8}\PY{p}{]}
          \PY{n}{y\PYZus{}test8} \PY{o}{=} \PY{n}{prod8\PYZus{}transformed}\PY{p}{[}\PY{n}{train8}\PY{p}{:}\PY{p}{]}
          \PY{n}{y\PYZus{}train8}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test8}\PY{o}{.}\PY{n}{shape}
          
          \PY{n}{BIC8} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train8}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}184}]:} \PY{n}{BIC8}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}184}]:}    index   param           BIC
          0      0  (0, 1)  11523.507549
          1      7  (1, 2)  11531.751628
          2     12  (2, 1)  11556.893412
          3      6  (1, 1)  11578.476830
          4     14  (2, 3)  11616.319126
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}185}]:} \PY{n}{model8} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train8}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
          \PY{n}{result8} \PY{o}{=} \PY{n}{model8}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
          
          \PY{n}{result8}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}185}]:} <class 'statsmodels.iolib.summary.Summary'>
          """
                                             Statespace Model Results                                   
          ==============================================================================================
          Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  887
          Model:                                         VMA(1)   Log Likelihood               -5659.000
                                                    + intercept   AIC                          11354.000
          Date:                                Fri, 07 Sep 2018   BIC                          11440.182
          Time:                                        02:13:53   HQIC                         11386.945
          Sample:                                    02-14-2015                                         
                                                   - 07-19-2017                                         
          Covariance Type:                                  opg                                         
          =======================================================================================
          Ljung-Box (Q):          255.23, 61.07, 52.34   Jarque-Bera (JB):   0.69, 47.55, 3109.35
          Prob(Q):                    0.00, 0.02, 0.09   Prob(JB):               0.71, 0.00, 0.00
          Heteroskedasticity (H):     0.75, 2.08, 4.07   Skew:                 -0.07, 0.48, -2.02
          Prob(H) (two-sided):        0.01, 0.00, 0.00   Kurtosis:              2.97, 2.38, 11.24
                                        Results for equation Sales                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                -0.0111      0.536     -0.021      0.983      -1.062       1.040
          L1.e(Sales)          -0.0101      0.034     -0.295      0.768      -0.077       0.057
          L1.e(rating)         -0.0237      0.476     -0.050      0.960      -0.956       0.908
          L1.e(ovsentiment)     0.1110      2.495      0.044      0.965      -4.780       5.002
                                       Results for equation rating                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0005      0.005      0.098      0.922      -0.010       0.011
          L1.e(Sales)           0.0011      0.003      0.416      0.677      -0.004       0.007
          L1.e(rating)         -0.9570      0.028    -33.788      0.000      -1.012      -0.901
          L1.e(ovsentiment)     0.0039      0.161      0.024      0.981      -0.312       0.319
                                     Results for equation ovsentiment                          
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0002      0.001      0.158      0.874      -0.002       0.002
          L1.e(Sales)           0.0004      0.000      0.807      0.419      -0.001       0.001
          L1.e(rating)         -0.0051      0.004     -1.138      0.255      -0.014       0.004
          L1.e(ovsentiment)    -0.9430      0.025    -37.642      0.000      -0.992      -0.894
                                              Error covariance matrix                                    
          ===============================================================================================
                                            coef    std err          z      P>|z|      [0.025      0.975]
          -----------------------------------------------------------------------------------------------
          sqrt.var.Sales                 15.8847      0.388     40.961      0.000      15.125      16.645
          sqrt.cov.Sales.rating           0.0137      0.105      0.130      0.896      -0.192       0.220
          sqrt.var.rating                 2.4351      0.103     23.681      0.000       2.234       2.637
          sqrt.cov.Sales.ovsentiment     -0.0059      0.018     -0.330      0.742      -0.041       0.029
          sqrt.cov.rating.ovsentiment     0.3659      0.024     15.147      0.000       0.319       0.413
          sqrt.var.ovsentiment            0.2477      0.004     58.249      0.000       0.239       0.256
          ===============================================================================================
          
          Warnings:
          [1] Covariance matrix calculated using the outer product of gradients (complex-step).
          """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}186}]:} \PY{n}{result8}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}186}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_189_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_189_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}187}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
          \PY{n}{y\PYZus{}test8}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}187}]:} (221, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}188}]:} \PY{n}{y\PYZus{}pred8} \PY{o}{=} \PY{n}{result8}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train8}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod8\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
          \PY{n}{y\PYZus{}forecasted8} \PY{o}{=} \PY{n}{y\PYZus{}pred8}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
          \PY{n}{y\PYZus{}forecasted8}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}188}]:} (221, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}189}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted8}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test8}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}189}]:} 10.053701424986544
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}190}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted8}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test8}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}190}]:} 5.353203770989861
\end{Verbatim}
            
    \hypertarget{mongodb-id-5a9347b98cbad97074cb1890}{%
\subsection{ 9. Mongodb ID: 5a9347b98cbad97074cb1890
}\label{mongodb-id-5a9347b98cbad97074cb1890}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}191}]:} \PY{n}{prod9} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}192}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod9Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod9}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod9Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}192}]:}           Value                        Label
          0 -8.613439e+00               Test Statistic
          1  2.754809e-12                      p-value
          2  3.000000e+00                   \#Lags Used
          3  3.130000e+02  Number of Observations Used
          4 -3.987988e+00        Critical value for 1\%
          5 -3.424611e+00        Critical value for 5\%
          6 -3.135351e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}193}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod9Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod9}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod9Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}193}]:}           Value                        Label
          0 -1.010230e+01               Test Statistic
          1  1.403698e-15                      p-value
          2  2.000000e+00                   \#Lags Used
          3  3.140000e+02  Number of Observations Used
          4 -3.987894e+00        Critical value for 1\%
          5 -3.424565e+00        Critical value for 5\%
          6 -3.135325e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}194}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod9Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod9}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod9Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}194}]:}           Value                        Label
          0 -1.137784e+01               Test Statistic
          1  4.448185e-18                      p-value
          2  2.000000e+00                   \#Lags Used
          3  3.140000e+02  Number of Observations Used
          4 -3.987894e+00        Critical value for 1\%
          5 -3.424565e+00        Critical value for 5\%
          6 -3.135325e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}195}]:} \PY{n}{num\PYZus{}var9} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod9}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var9}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod9}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod9}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_199_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_199_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_199_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}196}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}197}]:} \PY{n}{prod9\PYZus{}transformed} \PY{o}{=} \PY{n}{prod9}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
          \PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}
          
          \PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          
          \PY{n}{prod9\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}198}]:} \PY{n}{num\PYZus{}var9} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod9\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var9}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod9\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod9\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_202_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_202_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_202_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}199}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}200}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod9\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod9\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}200}]:}           Value                        Label
          0 -7.935315e+00               Test Statistic
          1  1.008231e-10                      p-value
          2  1.400000e+01                   \#Lags Used
          3  2.970000e+02  Number of Observations Used
          4 -3.989579e+00        Critical value for 1\%
          5 -3.425377e+00        Critical value for 5\%
          6 -3.135801e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}201}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod9\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod9\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}201}]:}           Value                        Label
          0 -8.672968e+00               Test Statistic
          1  2.012742e-12                      p-value
          2  1.000000e+01                   \#Lags Used
          3  3.010000e+02  Number of Observations Used
          4 -3.989165e+00        Critical value for 1\%
          5 -3.425177e+00        Critical value for 5\%
          6 -3.135684e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}202}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod9\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod9\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}202}]:}           Value                        Label
          0 -7.916838e+00               Test Statistic
          1  1.112444e-10                      p-value
          2  1.400000e+01                   \#Lags Used
          3  2.970000e+02  Number of Observations Used
          4 -3.989579e+00        Critical value for 1\%
          5 -3.425377e+00        Critical value for 5\%
          6 -3.135801e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}203}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
          \PY{n}{train9} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod9\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
          \PY{n}{y\PYZus{}train9} \PY{o}{=} \PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train9}\PY{p}{]}
          \PY{n}{y\PYZus{}test9} \PY{o}{=} \PY{n}{prod9\PYZus{}transformed}\PY{p}{[}\PY{n}{train9}\PY{p}{:}\PY{p}{]}
          \PY{n}{y\PYZus{}train9}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test9}\PY{o}{.}\PY{n}{shape}
          
          \PY{n}{BIC9} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train9}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}204}]:} \PY{n}{BIC9}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}204}]:}    index   param         BIC
          0     23  (4, 0)  613.733151
          1     29  (5, 0)  619.174569
          2     24  (4, 1)  631.056804
          3     26  (4, 3)  651.984165
          4     30  (5, 1)  654.746267
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}205}]:} \PY{n}{model9} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train9}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{)}
          \PY{n}{result9} \PY{o}{=} \PY{n}{model9}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
          
          \PY{n}{result9}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}205}]:} <class 'statsmodels.iolib.summary.Summary'>
          """
                                             Statespace Model Results                                   
          ==============================================================================================
          Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  250
          Model:                                         VAR(4)   Log Likelihood                -182.629
                                                    + intercept   AIC                            455.258
          Date:                                Fri, 07 Sep 2018   BIC                            613.724
          Time:                                        02:33:59   HQIC                           519.036
          Sample:                                    04-20-2017                                         
                                                   - 12-25-2017                                         
          Covariance Type:                                  opg                                         
          ==========================================================================================
          Ljung-Box (Q):          25.07, 89.74, 54.89   Jarque-Bera (JB):   1445.29, 759.35, 5441.85
          Prob(Q):                   0.97, 0.00, 0.06   Prob(JB):                   0.00, 0.00, 0.00
          Heteroskedasticity (H):    1.07, 0.99, 1.26   Skew:                      2.31, 0.16, -2.43
          Prob(H) (two-sided):       0.75, 0.97, 0.29   Kurtosis:                13.84, 11.53, 25.33
                                      Results for equation Sales                            
          ==================================================================================
                               coef    std err          z      P>|z|      [0.025      0.975]
          ----------------------------------------------------------------------------------
          const             -0.0040      0.054     -0.073      0.941      -0.110       0.102
          L1.Sales          -0.0914      0.138     -0.663      0.507      -0.362       0.179
          L1.rating          0.0844      0.056      1.497      0.134      -0.026       0.195
          L1.ovsentiment     0.0035      0.312      0.011      0.991      -0.607       0.614
          L2.Sales          -0.1394      0.125     -1.119      0.263      -0.383       0.105
          L2.rating          0.1242      0.081      1.530      0.126      -0.035       0.283
          L2.ovsentiment    -0.1273      0.416     -0.306      0.759      -0.942       0.687
          L3.Sales           0.0277      0.175      0.158      0.875      -0.316       0.372
          L3.rating          0.2036      0.088      2.317      0.021       0.031       0.376
          L3.ovsentiment    -0.2545      0.378     -0.674      0.500      -0.995       0.486
          L4.Sales          -0.1001      0.103     -0.973      0.331      -0.302       0.102
          L4.rating          0.2588      0.082      3.141      0.002       0.097       0.420
          L4.ovsentiment    -0.3697      0.421     -0.879      0.380      -1.194       0.455
                                     Results for equation rating                            
          ==================================================================================
                               coef    std err          z      P>|z|      [0.025      0.975]
          ----------------------------------------------------------------------------------
          const             -0.0064      0.184     -0.035      0.972      -0.366       0.353
          L1.Sales          -0.4140      0.560     -0.739      0.460      -1.511       0.683
          L1.rating         -0.7719      0.247     -3.125      0.002      -1.256      -0.288
          L1.ovsentiment     0.3550      1.029      0.345      0.730      -1.662       2.372
          L2.Sales          -0.6112      0.304     -2.013      0.044      -1.206      -0.016
          L2.rating         -0.5675      0.298     -1.903      0.057      -1.152       0.017
          L2.ovsentiment     0.3618      1.430      0.253      0.800      -2.442       3.165
          L3.Sales           0.0619      0.689      0.090      0.929      -1.289       1.413
          L3.rating         -0.3099      0.371     -0.835      0.403      -1.037       0.417
          L3.ovsentiment    -0.1572      1.534     -0.102      0.918      -3.164       2.849
          L4.Sales          -0.4022      0.384     -1.046      0.295      -1.156       0.351
          L4.rating         -0.0654      0.344     -0.190      0.849      -0.739       0.608
          L4.ovsentiment    -0.4253      1.751     -0.243      0.808      -3.856       3.006
                                   Results for equation ovsentiment                         
          ==================================================================================
                               coef    std err          z      P>|z|      [0.025      0.975]
          ----------------------------------------------------------------------------------
          const             -0.0048      0.073     -0.066      0.947      -0.147       0.138
          L1.Sales          -0.0226      0.156     -0.144      0.885      -0.329       0.284
          L1.rating          0.0068      0.070      0.097      0.923      -0.131       0.145
          L1.ovsentiment    -0.7327      0.165     -4.451      0.000      -1.055      -0.410
          L2.Sales           0.0055      0.065      0.085      0.932      -0.122       0.133
          L2.rating         -0.0209      0.064     -0.327      0.744      -0.146       0.104
          L2.ovsentiment    -0.4327      0.211     -2.051      0.040      -0.846      -0.019
          L3.Sales           0.0146      0.124      0.118      0.906      -0.229       0.258
          L3.rating         -0.0054      0.056     -0.097      0.922      -0.115       0.104
          L3.ovsentiment    -0.5084      0.186     -2.735      0.006      -0.873      -0.144
          L4.Sales          -0.0627      0.121     -0.517      0.605      -0.300       0.175
          L4.rating          0.0163      0.054      0.299      0.765      -0.090       0.123
          L4.ovsentiment    -0.3420      0.202     -1.694      0.090      -0.738       0.054
                                              Error covariance matrix                                    
          ===============================================================================================
                                            coef    std err          z      P>|z|      [0.025      0.975]
          -----------------------------------------------------------------------------------------------
          sqrt.var.Sales                  0.2985      0.026     11.697      0.000       0.248       0.349
          sqrt.cov.Sales.rating           0.9975      0.095     10.479      0.000       0.811       1.184
          sqrt.var.rating                 0.4982      0.040     12.399      0.000       0.419       0.577
          sqrt.cov.Sales.ovsentiment      0.0856      0.022      3.827      0.000       0.042       0.129
          sqrt.cov.rating.ovsentiment     0.1135      0.014      7.948      0.000       0.085       0.141
          sqrt.var.ovsentiment            0.1939      0.017     11.730      0.000       0.162       0.226
          ===============================================================================================
          
          Warnings:
          [1] Covariance matrix calculated using the outer product of gradients (complex-step).
          """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}206}]:} \PY{n}{result9}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}206}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_210_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_210_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}207}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
          \PY{n}{y\PYZus{}test9}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}207}]:} (62, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}208}]:} \PY{n}{y\PYZus{}pred9} \PY{o}{=} \PY{n}{result9}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train9}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod9\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
          \PY{n}{y\PYZus{}forecasted9} \PY{o}{=} \PY{n}{y\PYZus{}pred9}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
          \PY{n}{y\PYZus{}forecasted9}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}208}]:} (62, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}209}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted9}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test9}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}209}]:} 1.3059240868064133
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}210}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted9}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test9}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}210}]:} 0.6028958187246111
\end{Verbatim}
            
    \hypertarget{mongodb-id-5a9347b98cbad97074cb1890-imputed}{%
\subsection{ 10. Mongodb ID: 5a9347b98cbad97074cb1890-imputed
}\label{mongodb-id-5a9347b98cbad97074cb1890-imputed}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}211}]:} \PY{n}{prod10} \PY{o}{=} \PY{n}{genData}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{conn}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{impute}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{freq}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{daily}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{standardize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}212}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod10Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod10}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod10Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}212}]:}         Value                        Label
          0  -17.420776               Test Statistic
          1    0.000000                      p-value
          2    0.000000                   \#Lags Used
          3  315.000000  Number of Observations Used
          4   -3.987801        Critical value for 1\%
          5   -3.424520        Critical value for 5\%
          6   -3.135299       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}213}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod10Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod10}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod10Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}213}]:}           Value                        Label
          0 -1.007007e+01               Test Statistic
          1  1.640740e-15                      p-value
          2  2.000000e+00                   \#Lags Used
          3  3.130000e+02  Number of Observations Used
          4 -3.987988e+00        Critical value for 1\%
          5 -3.424611e+00        Critical value for 5\%
          6 -3.135351e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}214}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod10Test} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod10}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod10Test}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}214}]:}           Value                        Label
          0 -1.170446e+01               Test Statistic
          1  1.189856e-18                      p-value
          2  2.000000e+00                   \#Lags Used
          3  3.130000e+02  Number of Observations Used
          4 -3.987988e+00        Critical value for 1\%
          5 -3.424611e+00        Critical value for 5\%
          6 -3.135351e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}216}]:} \PY{n}{num\PYZus{}var10} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod10}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var10}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod10}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod10}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_220_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_220_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_220_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}217}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}218}]:} \PY{n}{prod10\PYZus{}transformed} \PY{o}{=} \PY{n}{prod10}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
          \PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          
          \PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
          
          \PY{n}{prod10\PYZus{}transformed}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}219}]:} \PY{n}{num\PYZus{}var10} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prod10\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{num\PYZus{}var10}\PY{p}{)}\PY{p}{:}
              \PY{n}{tsplot}\PY{p}{(}\PY{n}{prod10\PYZus{}transformed}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{n}{prod10\PYZus{}transformed}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{lags}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_223_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_223_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_223_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}220}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}221}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod10\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sales}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod10\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}221}]:}           Value                        Label
          0 -8.978272e+00               Test Statistic
          1  4.064109e-13                      p-value
          2  1.400000e+01                   \#Lags Used
          3  3.000000e+02  Number of Observations Used
          4 -3.989268e+00        Critical value for 1\%
          5 -3.425227e+00        Critical value for 5\%
          6 -3.135713e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}222}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod10\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod10\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}222}]:}           Value                        Label
          0 -1.184522e+01               Test Statistic
          1  6.891455e-19                      p-value
          2  6.000000e+00                   \#Lags Used
          3  3.080000e+02  Number of Observations Used
          4 -3.988467e+00        Critical value for 1\%
          5 -3.424841e+00        Critical value for 5\%
          6 -3.135487e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}223}]:} \PY{c+c1}{\PYZsh{} Stationarity test (Augmented Dickey\PYZhy{}Fuller test)}
          \PY{n}{prod10\PYZus{}transformedTest} \PY{o}{=} \PY{n}{routines}\PY{o}{.}\PY{n}{tsTest}\PY{p}{(}\PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ovsentiment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{5a9347b98cbad97074cb1890}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{prod10\PYZus{}transformedTest}\PY{o}{.}\PY{n}{adfuller}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
5a9347b98cbad97074cb1890

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}223}]:}           Value                        Label
          0 -8.122267e+00               Test Statistic
          1  3.727115e-11                      p-value
          2  1.400000e+01                   \#Lags Used
          3  3.000000e+02  Number of Observations Used
          4 -3.989268e+00        Critical value for 1\%
          5 -3.425227e+00        Critical value for 5\%
          6 -3.135713e+00       Critical value for 10\%
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}224}]:} \PY{c+c1}{\PYZsh{} Train\PYZhy{}Test Set Split}
          \PY{n}{train10} \PY{o}{=} \PY{n}{ceil}\PY{p}{(}\PY{n}{prod10\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{l+m+mf}{0.8}\PY{p}{)}
          \PY{n}{y\PYZus{}train10} \PY{o}{=} \PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{train10}\PY{p}{]}
          \PY{n}{y\PYZus{}test10} \PY{o}{=} \PY{n}{prod10\PYZus{}transformed}\PY{p}{[}\PY{n}{train10}\PY{p}{:}\PY{p}{]}
          \PY{n}{y\PYZus{}train10}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{y\PYZus{}test10}\PY{o}{.}\PY{n}{shape}
          
          \PY{n}{BIC10} \PY{o}{=} \PY{n}{detpq}\PY{p}{(}\PY{n}{y\PYZus{}train10}\PY{p}{,} \PY{n}{par}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}225}]:} \PY{n}{BIC10}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}225}]:}    index   param          BIC
          0      0  (0, 1)   959.216803
          1      6  (1, 1)  1015.424284
          2     12  (2, 1)  1065.695758
          3      7  (1, 2)  1076.879501
          4      1  (0, 2)  1113.053754
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}226}]:} \PY{n}{model10} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{VARMAX}\PY{p}{(}\PY{n}{y\PYZus{}train10}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
          \PY{n}{result10} \PY{o}{=} \PY{n}{model10}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{maxiter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{disp}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
          
          \PY{n}{result10}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}226}]:} <class 'statsmodels.iolib.summary.Summary'>
          """
                                             Statespace Model Results                                   
          ==============================================================================================
          Dep. Variable:     ['Sales', 'rating', 'ovsentiment']   No. Observations:                  252
          Model:                                         VMA(1)   Log Likelihood                -423.517
                                                    + intercept   AIC                            883.034
          Date:                                Fri, 07 Sep 2018   BIC                            946.563
          Time:                                        02:59:36   HQIC                           908.597
          Sample:                                    04-16-2017                                         
                                                   - 12-23-2017                                         
          Covariance Type:                                  opg                                         
          ===========================================================================================
          Ljung-Box (Q):          41.54, 31.95, 29.03   Jarque-Bera (JB):   305.53, 1952.95, 13221.21
          Prob(Q):                   0.40, 0.81, 0.90   Prob(JB):                    0.00, 0.00, 0.00
          Heteroskedasticity (H):    1.03, 0.73, 0.90   Skew:                       2.07, 3.19, -3.39
          Prob(H) (two-sided):       0.90, 0.15, 0.62   Kurtosis:                  6.45, 15.06, 37.83
                                        Results for equation Sales                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                 0.0006      0.001      0.417      0.676      -0.002       0.003
          L1.e(Sales)          -0.9980      0.210     -4.745      0.000      -1.410      -0.586
          L1.e(rating)          0.0050      0.035      0.143      0.886      -0.063       0.073
          L1.e(ovsentiment)    -0.0066      0.453     -0.015      0.988      -0.894       0.881
                                       Results for equation rating                             
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                -0.0012      0.003     -0.453      0.650      -0.006       0.004
          L1.e(Sales)          -0.0051      0.239     -0.021      0.983      -0.474       0.463
          L1.e(rating)         -0.9973      0.151     -6.607      0.000      -1.293      -0.701
          L1.e(ovsentiment)     0.0007      1.316      0.001      1.000      -2.579       2.580
                                     Results for equation ovsentiment                          
          =====================================================================================
                                  coef    std err          z      P>|z|      [0.025      0.975]
          -------------------------------------------------------------------------------------
          const                -0.0003      0.001     -0.368      0.713      -0.002       0.001
          L1.e(Sales)           0.0050      0.109      0.046      0.964      -0.209       0.219
          L1.e(rating)          0.0004      0.125      0.003      0.998      -0.245       0.246
          L1.e(ovsentiment)    -0.9979      1.235     -0.808      0.419      -3.419       1.423
                                              Error covariance matrix                                    
          ===============================================================================================
                                            coef    std err          z      P>|z|      [0.025      0.975]
          -----------------------------------------------------------------------------------------------
          sqrt.var.Sales                  0.3987      0.044      9.070      0.000       0.313       0.485
          sqrt.cov.Sales.rating           0.0259      0.236      0.109      0.913      -0.438       0.489
          sqrt.var.rating                 1.0812      0.102     10.552      0.000       0.880       1.282
          sqrt.cov.Sales.ovsentiment     -0.0018      0.067     -0.027      0.979      -0.134       0.130
          sqrt.cov.rating.ovsentiment     0.1432      0.046      3.087      0.002       0.052       0.234
          sqrt.var.ovsentiment            0.1710      0.096      1.785      0.074      -0.017       0.359
          ===============================================================================================
          
          Warnings:
          [1] Covariance matrix calculated using the outer product of gradients (complex-step).
          """
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}227}]:} \PY{n}{result10}\PY{o}{.}\PY{n}{plot\PYZus{}diagnostics}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}227}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_231_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_231_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}228}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{clf}\PY{p}{(}\PY{p}{)}
          \PY{n}{y\PYZus{}test10}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}228}]:} (63, 3)
\end{Verbatim}
            
    
    \begin{verbatim}
<Figure size 432x288 with 0 Axes>
    \end{verbatim}

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}229}]:} \PY{n}{y\PYZus{}pred10} \PY{o}{=} \PY{n}{result10}\PY{o}{.}\PY{n}{get\PYZus{}prediction}\PY{p}{(}\PY{n}{start}\PY{o}{=}\PY{n}{train10}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{n}{prod10\PYZus{}transformed}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
          \PY{n}{y\PYZus{}forecasted10} \PY{o}{=} \PY{n}{y\PYZus{}pred10}\PY{o}{.}\PY{n}{predicted\PYZus{}mean}
          \PY{n}{y\PYZus{}forecasted10}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}229}]:} (63, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}230}]:} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted10}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test10}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}230}]:} 1.3598554921713915
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}231}]:} \PY{n}{mean\PYZus{}absolute\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{o}{=}\PY{n}{y\PYZus{}forecasted10}\PY{p}{,} \PY{n}{y\PYZus{}true}\PY{o}{=}\PY{n}{y\PYZus{}test10}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}231}]:} 0.5560682035759466
\end{Verbatim}
            

    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
